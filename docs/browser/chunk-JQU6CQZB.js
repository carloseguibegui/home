var or=Object.defineProperty,sr=Object.defineProperties;var ar=Object.getOwnPropertyDescriptors;var ee=Object.getOwnPropertySymbols,cr=Object.getPrototypeOf,gt=Object.prototype.hasOwnProperty,bt=Object.prototype.propertyIsEnumerable,ur=Reflect.get;var mt=(t,e,n)=>e in t?or(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vt=(t,e)=>{for(var n in e||={})gt.call(e,n)&&mt(t,n,e[n]);if(ee)for(var n of ee(e))bt.call(e,n)&&mt(t,n,e[n]);return t},Et=(t,e)=>sr(t,ar(e));var As=(t,e)=>{var n={};for(var r in t)gt.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ee)for(var r of ee(t))e.indexOf(r)<0&&bt.call(t,r)&&(n[r]=t[r]);return n};var Cs=(t,e,n)=>ur(cr(t),n,e);var d=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(u){i(u)}},s=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var _t=()=>{};var yt=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lr=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},It={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,f=o>>2,l=(o&3)<<4|a>>4,p=(a&15)<<2|u>>6,b=u&63;c||(b=64,s||(p=64)),r.push(n[f],n[l],n[p],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yt(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lr(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let l=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||l==null)throw new Te;let p=o<<2|a>>4;if(r.push(p),u!==64){let b=a<<4&240|u>>2;if(r.push(b),l!==64){let F=u<<6&192|l;r.push(F)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Te=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},fr=function(t){let e=yt(t);return It.encodeByteArray(e,!0)},G=function(t){return fr(t).replace(/\./g,"")},St=function(t){try{return It.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function dr(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var hr=()=>dr().__FIREBASE_DEFAULTS__,pr=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mr=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&St(t[1]);return e&&JSON.parse(e)},ne=()=>{try{return _t()||hr()||pr()||mr()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gr=t=>{var e,n;return(n=(e=ne())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Rs=t=>{let e=gr(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ie=()=>{var t;return(t=ne())===null||t===void 0?void 0:t.config},Ms=t=>{var e;return(e=ne())===null||e===void 0?void 0:e[`_${t}`]};var te=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function ks(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[G(JSON.stringify(n)),G(JSON.stringify(s)),""].join(".")}function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ps(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function br(){var t;let e=(t=ne())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ls(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Bs(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xs(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Fs(){let t=wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Us(){return!br()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function re(){try{return typeof indexedDB=="object"}catch{return!1}}function ie(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function At(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var vr="FirebaseError",I=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vr,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S.prototype.create)}},S=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Er(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new I(i,a,r)}};function Er(t,e){return t.replace(_r,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var _r=/\{\$([^}]+)}/g;function $s(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(Tt(o)&&Tt(s)){if(!$(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Tt(t){return t!==null&&typeof t=="object"}function js(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Hs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function zs(t,e){let n=new ye(t,e);return n.subscribe.bind(n)}var ye=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Tr(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_e),i.error===void 0&&(i.error=_e),i.complete===void 0&&(i.complete=_e);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Tr(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _e(){}var yr=1e3,Ir=2,Sr=4*60*60*1e3,wr=.5;function Ws(t,e=yr,n=Ir){let r=e*Math.pow(n,t),i=Math.round(wr*r*(Math.random()-.5)*2);return Math.min(Sr,r+i)}function oe(t){return t&&t._delegate?t._delegate:t}function qs(t){return t.endsWith(".cloudworkstations.dev")}function Gs(t){return d(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}var Ar=[],h=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(h||{}),Cr={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},Dr=h.INFO,Or={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},Nr=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Or[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},j=class{constructor(e){this.name=e,this._logLevel=Dr,this._logHandler=Nr,this._userLogHandler=null,Ar.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in h))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Cr[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...e),this._logHandler(this,h.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...e),this._logHandler(this,h.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,h.INFO,...e),this._logHandler(this,h.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,h.WARN,...e),this._logHandler(this,h.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...e),this._logHandler(this,h.ERROR,...e)}};var Ae,Ct,ce=function(){var t=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(t&&t.responseStart>0&&t.responseStart<performance.now())return t},Pt=function(t){if(document.readyState==="loading")return"loading";var e=ce();if(e){if(t<e.domInteractive)return"loading";if(e.domContentLoadedEventStart===0||t<e.domContentLoadedEventStart)return"dom-interactive";if(e.domComplete===0||t<e.domComplete)return"dom-content-loaded"}return"complete"},Rr=function(t){var e=t.nodeName;return t.nodeType===1?e.toLowerCase():e.toUpperCase().replace(/^#/,"")},Oe=function(t,e){var n="";try{for(;t&&t.nodeType!==9;){var r=t,i=r.id?"#"+r.id:Rr(r)+(r.classList&&r.classList.value&&r.classList.value.trim()&&r.classList.value.trim().length?"."+r.classList.value.trim().replace(/\s+/g,"."):"");if(n.length+i.length>(e||100)-1)return n||i;if(n=n?i+">"+n:i,r.id)break;t=r.parentNode}}catch{}return n},Lt=-1,Mr=function(){return Lt},J=function(t){addEventListener("pageshow",function(e){e.persisted&&(Lt=e.timeStamp,t(e))},!0)},Ne=function(){var t=ce();return t&&t.activationStart||0},D=function(t,e){var n=ce(),r="navigate";return Mr()>=0?r="back-forward-cache":n&&(document.prerendering||Ne()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:t,value:e===void 0?-1:e,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},W=function(t,e,n){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var r=new PerformanceObserver(function(i){Promise.resolve().then(function(){e(i.getEntries())})});return r.observe(Object.assign({type:t,buffered:!0},n||{})),r}}catch{}},O=function(t,e,n,r){var i,o;return function(s){e.value>=0&&(s||r)&&((o=e.value-(i||0))||i===void 0)&&(i=e.value,e.delta=o,e.rating=function(a,c){return a>c[1]?"poor":a>c[0]?"needs-improvement":"good"}(e.value,n),t(e))}},Re=function(t){requestAnimationFrame(function(){return requestAnimationFrame(function(){return t()})})},ue=function(t){document.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"&&t()})},Me=function(t){var e=!1;return function(){e||(t(),e=!0)}},V=-1,Dt=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},ae=function(t){document.visibilityState==="hidden"&&V>-1&&(V=t.type==="visibilitychange"?t.timeStamp:0,kr())},Ot=function(){addEventListener("visibilitychange",ae,!0),addEventListener("prerenderingchange",ae,!0)},kr=function(){removeEventListener("visibilitychange",ae,!0),removeEventListener("prerenderingchange",ae,!0)},Bt=function(){return V<0&&(V=Dt(),Ot(),J(function(){setTimeout(function(){V=Dt(),Ot()},0)})),{get firstHiddenTime(){return V}}},ke=function(t){document.prerendering?addEventListener("prerenderingchange",function(){return t()},!0):t()},Nt=[1800,3e3],Pr=function(t,e){e=e||{},ke(function(){var n,r=Bt(),i=D("FCP"),o=W("paint",function(s){s.forEach(function(a){a.name==="first-contentful-paint"&&(o.disconnect(),a.startTime<r.firstHiddenTime&&(i.value=Math.max(a.startTime-Ne(),0),i.entries.push(a),n(!0)))})});o&&(n=O(t,i,Nt,e.reportAllChanges),J(function(s){i=D("FCP"),n=O(t,i,Nt,e.reportAllChanges),Re(function(){i.value=performance.now()-s.timeStamp,n(!0)})}))})},Rt=[.1,.25],xt=function(t,e){(function(n,r){r=r||{},Pr(Me(function(){var i,o=D("CLS",0),s=0,a=[],c=function(f){f.forEach(function(l){if(!l.hadRecentInput){var p=a[0],b=a[a.length-1];s&&l.startTime-b.startTime<1e3&&l.startTime-p.startTime<5e3?(s+=l.value,a.push(l)):(s=l.value,a=[l])}}),s>o.value&&(o.value=s,o.entries=a,i())},u=W("layout-shift",c);u&&(i=O(n,o,Rt,r.reportAllChanges),ue(function(){c(u.takeRecords()),i(!0)}),J(function(){s=0,o=D("CLS",0),i=O(n,o,Rt,r.reportAllChanges),Re(function(){return i()})}),setTimeout(i,0))}))})(function(n){var r=function(i){var o,s={};if(i.entries.length){var a=i.entries.reduce(function(u,f){return u&&u.value>f.value?u:f});if(a&&a.sources&&a.sources.length){var c=(o=a.sources).find(function(u){return u.node&&u.node.nodeType===1})||o[0];c&&(s={largestShiftTarget:Oe(c.node),largestShiftTime:a.startTime,largestShiftValue:a.value,largestShiftSource:c,largestShiftEntry:a,loadState:Pt(a.startTime)})}}return Object.assign(i,{attribution:s})}(n);t(r)},e)};var Ft=0,Se=1/0,se=0,Lr=function(t){t.forEach(function(e){e.interactionId&&(Se=Math.min(Se,e.interactionId),se=Math.max(se,e.interactionId),Ft=se?(se-Se)/7+1:0)})},Ut=function(){return Ae?Ft:performance.interactionCount||0},Br=function(){"interactionCount"in performance||Ae||(Ae=W("event",Lr,{type:"event",buffered:!0,durationThreshold:0}))},_=[],K=new Map,$t=0,xr=function(){var t=Math.min(_.length-1,Math.floor((Ut()-$t)/50));return _[t]},jt=[],Fr=function(t){if(jt.forEach(function(i){return i(t)}),t.interactionId||t.entryType==="first-input"){var e=_[_.length-1],n=K.get(t.interactionId);if(n||_.length<10||t.duration>e.latency){if(n)t.duration>n.latency?(n.entries=[t],n.latency=t.duration):t.duration===n.latency&&t.startTime===n.entries[0].startTime&&n.entries.push(t);else{var r={id:t.interactionId,latency:t.duration,entries:[t]};K.set(r.id,r),_.push(r)}_.sort(function(i,o){return o.latency-i.latency}),_.length>10&&_.splice(10).forEach(function(i){return K.delete(i.id)})}}},Pe=function(t){var e=self.requestIdleCallback||self.setTimeout,n=-1;return t=Me(t),document.visibilityState==="hidden"?t():(n=e(t),ue(t)),n},Mt=[200,500],Ur=function(t,e){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(e=e||{},ke(function(){var n;Br();var r,i=D("INP"),o=function(a){Pe(function(){a.forEach(Fr);var c=xr();c&&c.latency!==i.value&&(i.value=c.latency,i.entries=c.entries,r())})},s=W("event",o,{durationThreshold:(n=e.durationThreshold)!==null&&n!==void 0?n:40});r=O(t,i,Mt,e.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),ue(function(){o(s.takeRecords()),r(!0)}),J(function(){$t=Ut(),_.length=0,K.clear(),i=D("INP"),r=O(t,i,Mt,e.reportAllChanges)}))}))},H=[],C=[],Ce=0,Le=new WeakMap,z=new Map,De=-1,$r=function(t){H=H.concat(t),Vt()},Vt=function(){De<0&&(De=Pe(jr))},jr=function(){z.size>10&&z.forEach(function(s,a){K.has(a)||z.delete(a)});var t=_.map(function(s){return Le.get(s.entries[0])}),e=C.length-50;C=C.filter(function(s,a){return a>=e||t.includes(s)});for(var n=new Set,r=0;r<C.length;r++){var i=C[r];Ht(i.startTime,i.processingEnd).forEach(function(s){n.add(s)})}var o=H.length-1-50;H=H.filter(function(s,a){return s.startTime>Ce&&a>o||n.has(s)}),De=-1};jt.push(function(t){t.interactionId&&t.target&&!z.has(t.interactionId)&&z.set(t.interactionId,t.target)},function(t){var e,n=t.startTime+t.duration;Ce=Math.max(Ce,t.processingEnd);for(var r=C.length-1;r>=0;r--){var i=C[r];if(Math.abs(n-i.renderTime)<=8){(e=i).startTime=Math.min(t.startTime,e.startTime),e.processingStart=Math.min(t.processingStart,e.processingStart),e.processingEnd=Math.max(t.processingEnd,e.processingEnd),e.entries.push(t);break}}e||(e={startTime:t.startTime,processingStart:t.processingStart,processingEnd:t.processingEnd,renderTime:n,entries:[t]},C.push(e)),(t.interactionId||t.entryType==="first-input")&&Le.set(t,e),Vt()});var Ht=function(t,e){for(var n,r=[],i=0;n=H[i];i++)if(!(n.startTime+n.duration<t)){if(n.startTime>e)break;r.push(n)}return r},zt=function(t,e){Ct||(Ct=W("long-animation-frame",$r)),Ur(function(n){var r=function(i){var o=i.entries[0],s=Le.get(o),a=o.processingStart,c=s.processingEnd,u=s.entries.sort(function(U,ir){return U.processingStart-ir.processingStart}),f=Ht(o.startTime,c),l=i.entries.find(function(U){return U.target}),p=l&&l.target||z.get(o.interactionId),b=[o.startTime+o.duration,c].concat(f.map(function(U){return U.startTime+U.duration})),F=Math.max.apply(Math,b),rr={interactionTarget:Oe(p),interactionTargetElement:p,interactionType:o.name.startsWith("key")?"keyboard":"pointer",interactionTime:o.startTime,nextPaintTime:F,processedEventEntries:u,longAnimationFrameEntries:f,inputDelay:a-o.startTime,processingDuration:c-a,presentationDelay:Math.max(F-c,0),loadState:Pt(o.startTime)};return Object.assign(i,{attribution:rr})}(n);t(r)},e)},kt=[2500,4e3],we={},Wt=function(t,e){(function(n,r){r=r||{},ke(function(){var i,o=Bt(),s=D("LCP"),a=function(f){r.reportAllChanges||(f=f.slice(-1)),f.forEach(function(l){l.startTime<o.firstHiddenTime&&(s.value=Math.max(l.startTime-Ne(),0),s.entries=[l],i())})},c=W("largest-contentful-paint",a);if(c){i=O(n,s,kt,r.reportAllChanges);var u=Me(function(){we[s.id]||(a(c.takeRecords()),c.disconnect(),we[s.id]=!0,i(!0))});["keydown","click"].forEach(function(f){addEventListener(f,function(){return Pe(u)},{once:!0,capture:!0})}),ue(u),J(function(f){s=D("LCP"),i=O(n,s,kt,r.reportAllChanges),Re(function(){s.value=performance.now()-f.timeStamp,we[s.id]=!0,i(!0)})})}})})(function(n){var r=function(i){var o={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:i.value};if(i.entries.length){var s=ce();if(s){var a=s.activationStart||0,c=i.entries[i.entries.length-1],u=c.url&&performance.getEntriesByType("resource").filter(function(F){return F.name===c.url})[0],f=Math.max(0,s.responseStart-a),l=Math.max(f,u?(u.requestStart||u.startTime)-a:0),p=Math.max(l,u?u.responseEnd-a:0),b=Math.max(p,c.startTime-a);o={element:Oe(c.element),timeToFirstByte:f,resourceLoadDelay:l-f,resourceLoadDuration:p-l,elementRenderDelay:b-p,navigationEntry:s,lcpEntry:c},c.url&&(o.url=c.url),u&&(o.lcpResourceEntry=u)}}return Object.assign(i,{attribution:o})}(n);t(r)},e)};var E=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var k="[DEFAULT]";var Be=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new te;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Hr(e))try{this.getOrInitializeService({instanceIdentifier:k})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=k){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return d(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=k){return this.instances.has(e)}getOptions(e=k){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Vr(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=k){return this.component?this.component.multipleInstances?e:k:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Vr(t){return t===k?void 0:t}function Hr(t){return t.instantiationMode==="EAGER"}var le=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Be(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var zr=(t,e)=>e.some(n=>t instanceof n),qt,Gt;function Wr(){return qt||(qt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qr(){return Gt||(Gt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Kt=new WeakMap,Fe=new WeakMap,Jt=new WeakMap,xe=new WeakMap,$e=new WeakMap;function Gr(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(T(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Kt.set(n,t)}).catch(()=>{}),$e.set(e,t),e}function Kr(t){if(Fe.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Fe.set(t,e)}var Ue={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fe.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Jt.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return T(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Xt(t){Ue=t(Ue)}function Jr(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(fe(this),e,...n);return Jt.set(r,e.sort?e.sort():[e]),T(r)}:qr().includes(t)?function(...e){return t.apply(fe(this),e),T(Kt.get(this))}:function(...e){return T(t.apply(fe(this),e))}}function Xr(t){return typeof t=="function"?Jr(t):(t instanceof IDBTransaction&&Kr(t),zr(t,Wr())?new Proxy(t,Ue):t)}function T(t){if(t instanceof IDBRequest)return Gr(t);if(xe.has(t))return xe.get(t);let e=Xr(t);return e!==t&&(xe.set(t,e),$e.set(e,t)),e}var fe=t=>$e.get(t);function de(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=T(s);return r&&s.addEventListener("upgradeneeded",c=>{r(T(s.result),c.oldVersion,c.newVersion,T(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}function ra(t,{blocked:e}={}){let n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),T(n).then(()=>{})}var Yr=["get","getKey","getAll","getAllKeys","count"],Qr=["put","add","delete","clear"],je=new Map;function Yt(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(je.get(e))return je.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Qr.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Yr.includes(n)))return;let o=function(s,...a){return d(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return je.set(e,o),o}Xt(t=>Et(vt({},t),{get:(e,n,r)=>Yt(e,n)||t.get(e,n,r),has:(e,n)=>!!Yt(e,n)||t.has(e,n)}));var He=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Zr(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Zr(t){let e=t.getComponent();return e?.type==="VERSION"}var ze="@firebase/app",Qt="0.12.1";var A=new j("@firebase/app"),ei="@firebase/app-compat",ti="@firebase/analytics-compat",ni="@firebase/analytics",ri="@firebase/app-check-compat",ii="@firebase/app-check",oi="@firebase/auth",si="@firebase/auth-compat",ai="@firebase/database",ci="@firebase/data-connect",ui="@firebase/database-compat",li="@firebase/functions",fi="@firebase/functions-compat",di="@firebase/installations",hi="@firebase/installations-compat",pi="@firebase/messaging",mi="@firebase/messaging-compat",gi="@firebase/performance",bi="@firebase/performance-compat",vi="@firebase/remote-config",Ei="@firebase/remote-config-compat",_i="@firebase/storage",Ti="@firebase/storage-compat",yi="@firebase/firestore",Ii="@firebase/vertexai",Si="@firebase/firestore-compat",wi="firebase",Ai="11.7.1";var We="[DEFAULT]",Ci={[ze]:"fire-core",[ei]:"fire-core-compat",[ni]:"fire-analytics",[ti]:"fire-analytics-compat",[ii]:"fire-app-check",[ri]:"fire-app-check-compat",[oi]:"fire-auth",[si]:"fire-auth-compat",[ai]:"fire-rtdb",[ci]:"fire-data-connect",[ui]:"fire-rtdb-compat",[li]:"fire-fn",[fi]:"fire-fn-compat",[di]:"fire-iid",[hi]:"fire-iid-compat",[pi]:"fire-fcm",[mi]:"fire-fcm-compat",[gi]:"fire-perf",[bi]:"fire-perf-compat",[vi]:"fire-rc",[Ei]:"fire-rc-compat",[_i]:"fire-gcs",[Ti]:"fire-gcs-compat",[yi]:"fire-fst",[Si]:"fire-fst-compat",[Ii]:"fire-vertex","fire-js":"fire-js",[wi]:"fire-js-all"};var X=new Map,Di=new Map,qe=new Map;function Zt(t,e){try{t.container.addComponent(e)}catch(n){A.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function R(t){let e=t.name;if(qe.has(e))return A.debug(`There were multiple attempts to register component ${e}.`),!1;qe.set(e,t);for(let n of X.values())Zt(n,t);for(let n of Di.values())Zt(n,t);return!0}function q(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ma(t){return t==null?!1:t.settings!==void 0}var Oi={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},N=new S("app","Firebase",Oi);var Ge=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new E("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw N.create("app-deleted",{appName:this._name})}};var ga=Ai;function Ni(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:We,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw N.create("bad-app-name",{appName:String(i)});if(n||(n=Ie()),!n)throw N.create("no-options");let o=X.get(i);if(o){if($(n,o.options)&&$(r,o.config))return o;throw N.create("duplicate-app",{appName:i})}let s=new le(i);for(let c of qe.values())s.addComponent(c);let a=new Ge(n,r,s);return X.set(i,a),a}function Xe(t=We){let e=X.get(t);if(!e&&t===We&&Ie())return Ni();if(!e)throw N.create("no-app",{appName:t});return e}function ba(){return Array.from(X.values())}function w(t,e,n){var r;let i=(r=Ci[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),A.warn(a.join(" "));return}R(new E(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Ri="firebase-heartbeat-database",Mi=1,Y="firebase-heartbeat-store",Ve=null;function rn(){return Ve||(Ve=de(Ri,Mi,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Y)}catch(n){console.warn(n)}}}}).catch(t=>{throw N.create("idb-open",{originalErrorMessage:t.message})})),Ve}function ki(t){return d(this,null,function*(){try{let n=(yield rn()).transaction(Y),r=yield n.objectStore(Y).get(on(t));return yield n.done,r}catch(e){if(e instanceof I)A.warn(e.message);else{let n=N.create("idb-get",{originalErrorMessage:e?.message});A.warn(n.message)}}})}function en(t,e){return d(this,null,function*(){try{let r=(yield rn()).transaction(Y,"readwrite");yield r.objectStore(Y).put(e,on(t)),yield r.done}catch(n){if(n instanceof I)A.warn(n.message);else{let r=N.create("idb-set",{originalErrorMessage:n?.message});A.warn(r.message)}}})}function on(t){return`${t.name}!${t.options.appId}`}var Pi=1024,Li=30,Ke=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Je(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return d(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=tn();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Li){let s=xi(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){A.warn(r)}})}getHeartbeatsHeader(){return d(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=tn(),{heartbeatsToSend:r,unsentEntries:i}=Bi(this._heartbeatsCache.heartbeats),o=G(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return A.warn(n),""}})}};function tn(){return new Date().toISOString().substring(0,10)}function Bi(t,e=Pi){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),nn(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nn(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Je=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return d(this,null,function*(){return re()?ie().then(()=>!0).catch(()=>!1):!1})}read(){return d(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield ki(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return d(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return en(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return d(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return en(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function nn(t){return G(JSON.stringify({version:2,heartbeats:t})).length}function xi(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Fi(t){R(new E("platform-logger",e=>new He(e),"PRIVATE")),R(new E("heartbeat",e=>new Ke(e),"PRIVATE")),w(ze,Qt,t),w(ze,Qt,"esm2017"),w("fire-js","")}Fi("");var cn="@firebase/installations",et="0.6.14";var un=1e4,ln=`w:${et}`,fn="FIS_v2",Ui="https://firebaseinstallations.googleapis.com/v1",$i=60*60*1e3,ji="installations",Vi="Installations";var Hi={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},L=new S(ji,Vi,Hi);function dn(t){return t instanceof I&&t.code.includes("request-failed")}function hn({projectId:t}){return`${Ui}/projects/${t}/installations`}function pn(t){return{token:t.token,requestStatus:2,expiresIn:Wi(t.expiresIn),creationTime:Date.now()}}function mn(t,e){return d(this,null,function*(){let r=(yield e.json()).error;return L.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function gn({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function zi(t,{refreshToken:e}){let n=gn(t);return n.append("Authorization",qi(e)),n}function bn(t){return d(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function Wi(t){return Number(t.replace("s","000"))}function qi(t){return`${fn} ${t}`}function Gi(r,i){return d(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let o=hn(t),s=gn(t),a=e.getImmediate({optional:!0});if(a){let l=yield a.getHeartbeatsHeader();l&&s.append("x-firebase-client",l)}let c={fid:n,authVersion:fn,appId:t.appId,sdkVersion:ln},u={method:"POST",headers:s,body:JSON.stringify(c)},f=yield bn(()=>fetch(o,u));if(f.ok){let l=yield f.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:pn(l.authToken)}}else throw yield mn("Create Installation",f)})}function vn(t){return new Promise(e=>{setTimeout(e,t)})}function Ki(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var Ji=/^[cdef][\w-]{21}$/,Ze="";function Xi(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=Yi(t);return Ji.test(n)?n:Ze}catch{return Ze}}function Yi(t){return Ki(t).substr(0,22)}function pe(t){return`${t.appName}!${t.appId}`}var En=new Map;function _n(t,e){let n=pe(t);Tn(n,e),Qi(n,e)}function Tn(t,e){let n=En.get(t);if(n)for(let r of n)r(e)}function Qi(t,e){let n=Zi();n&&n.postMessage({key:t,fid:e}),eo()}var P=null;function Zi(){return!P&&"BroadcastChannel"in self&&(P=new BroadcastChannel("[Firebase] FID Change"),P.onmessage=t=>{Tn(t.data.key,t.data.fid)}),P}function eo(){En.size===0&&P&&(P.close(),P=null)}var to="firebase-installations-database",no=1,B="firebase-installations-store",Ye=null;function tt(){return Ye||(Ye=de(to,no,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(B)}}})),Ye}function he(t,e){return d(this,null,function*(){let n=pe(t),i=(yield tt()).transaction(B,"readwrite"),o=i.objectStore(B),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&_n(t,e.fid),e})}function yn(t){return d(this,null,function*(){let e=pe(t),r=(yield tt()).transaction(B,"readwrite");yield r.objectStore(B).delete(e),yield r.done})}function me(t,e){return d(this,null,function*(){let n=pe(t),i=(yield tt()).transaction(B,"readwrite"),o=i.objectStore(B),s=yield o.get(n),a=e(s);return a===void 0?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&_n(t,a.fid),a})}function nt(t){return d(this,null,function*(){let e,n=yield me(t.appConfig,r=>{let i=ro(r),o=io(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===Ze?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function ro(t){let e=t||{fid:Xi(),registrationStatus:0};return In(e)}function io(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(L.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=oo(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:so(t)}:{installationEntry:e}}function oo(t,e){return d(this,null,function*(){try{let n=yield Gi(t,e);return he(t.appConfig,n)}catch(n){throw dn(n)&&n.customData.serverCode===409?yield yn(t.appConfig):yield he(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function so(t){return d(this,null,function*(){let e=yield sn(t.appConfig);for(;e.registrationStatus===1;)yield vn(100),e=yield sn(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield nt(t);return r||n}return e})}function sn(t){return me(t,e=>{if(!e)throw L.create("installation-not-found");return In(e)})}function In(t){return ao(t)?{fid:t.fid,registrationStatus:0}:t}function ao(t){return t.registrationStatus===1&&t.registrationTime+un<Date.now()}function co(r,i){return d(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let o=uo(t,n),s=zi(t,n),a=e.getImmediate({optional:!0});if(a){let l=yield a.getHeartbeatsHeader();l&&s.append("x-firebase-client",l)}let c={installation:{sdkVersion:ln,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(c)},f=yield bn(()=>fetch(o,u));if(f.ok){let l=yield f.json();return pn(l)}else throw yield mn("Generate Auth Token",f)})}function uo(t,{fid:e}){return`${hn(t)}/${e}/authTokens:generate`}function rt(t,e=!1){return d(this,null,function*(){let n,r=yield me(t.appConfig,o=>{if(!Sn(o))throw L.create("not-registered");let s=o.authToken;if(!e&&ho(s))return o;if(s.requestStatus===1)return n=lo(t,e),o;{if(!navigator.onLine)throw L.create("app-offline");let a=mo(o);return n=fo(t,a),a}});return n?yield n:r.authToken})}function lo(t,e){return d(this,null,function*(){let n=yield an(t.appConfig);for(;n.authToken.requestStatus===1;)yield vn(100),n=yield an(t.appConfig);let r=n.authToken;return r.requestStatus===0?rt(t,e):r})}function an(t){return me(t,e=>{if(!Sn(e))throw L.create("not-registered");let n=e.authToken;return go(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function fo(t,e){return d(this,null,function*(){try{let n=yield co(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield he(t.appConfig,r),n}catch(n){if(dn(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield yn(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield he(t.appConfig,r)}throw n}})}function Sn(t){return t!==void 0&&t.registrationStatus===2}function ho(t){return t.requestStatus===2&&!po(t)}function po(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+$i}function mo(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function go(t){return t.requestStatus===1&&t.requestTime+un<Date.now()}function bo(t){return d(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield nt(e);return r?r.catch(console.error):rt(e).catch(console.error),n.fid})}function vo(t,e=!1){return d(this,null,function*(){let n=t;return yield Eo(n),(yield rt(n,e)).token})}function Eo(t){return d(this,null,function*(){let{registrationPromise:e}=yield nt(t);e&&(yield e)})}function _o(t){if(!t||!t.options)throw Qe("App Configuration");if(!t.name)throw Qe("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw Qe(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Qe(t){return L.create("missing-app-config-values",{valueName:t})}var wn="installations",To="installations-internal",yo=t=>{let e=t.getProvider("app").getImmediate(),n=_o(e),r=q(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Io=t=>{let e=t.getProvider("app").getImmediate(),n=q(e,wn).getImmediate();return{getId:()=>bo(n),getToken:i=>vo(n,i)}};function So(){R(new E(wn,yo,"PUBLIC")),R(new E(To,Io,"PRIVATE"))}So();w(cn,et);w(cn,et,"esm2017");var An="@firebase/performance",ut="0.7.3";var Bn=ut,wo="FB-PERF-TRACE-START",Ao="FB-PERF-TRACE-STOP",lt="FB-PERF-TRACE-MEASURE",xn="_wt_",Fn="_fp",Un="_fcp",$n="_fid",jn="_lcp",Co="lcp_element",Vn="_inp",Do="inp_interactionTarget",Hn="_cls",Oo="cls_largestShiftTarget",zn="@firebase/performance/config",Wn="@firebase/performance/configexpire",No="performance",qn="Performance";var Ro={"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."},g=new S(No,qn,Ro);var M=new j(qn);M.logLevel=h.INFO;var it,Gn,m=class t{constructor(e){if(this.window=e,!e)throw g.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay),this.onLCP=Wt,this.onINP=zt,this.onCLS=xt}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)}getEntriesByType(e){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(e)}getEntriesByName(e){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(e)}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return!fetch||!Promise||!At()?(M.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):re()?!0:(M.info("IndexedDB is not supported by current browser"),!1)}setupObserver(e,n){if(!this.PerformanceObserver)return;new this.PerformanceObserver(i=>{for(let o of i.getEntries())n(o)}).observe({entryTypes:[e]})}static getInstance(){return it===void 0&&(it=new t(Gn)),it}};function Mo(t){Gn=t}var Kn;function ko(t){let e=t.getId();return e.then(n=>{Kn=n}),e}function dt(){return Kn}function Po(t){let e=t.getToken();return e.then(n=>{}),e}function Cn(t,e){let n=t.length-e.length;if(n<0||n>1)throw g.create("invalid String merger input");let r=[];for(let i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var ot,v=class t{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Cn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Cn("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return ot===void 0&&(ot=new t),ot}};var be=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}(be||{}),Lo=["firebase_","google_","ga_"],Bo=new RegExp("^[a-zA-Z]\\w*$"),xo=40,Fo=100;function Uo(){let t=m.getInstance().navigator;return t?.serviceWorker?t.serviceWorker.controller?2:3:1}function $o(){switch(m.getInstance().document.visibilityState){case"visible":return be.VISIBLE;case"hidden":return be.HIDDEN;default:return be.UNKNOWN}}function jo(){let e=m.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Vo(t){return t.length===0||t.length>xo?!1:!Lo.some(n=>t.startsWith(n))&&!!t.match(Bo)}function Ho(t){return t.length!==0&&t.length<=Fo}function Jn(t){var e;let n=(e=t.options)===null||e===void 0?void 0:e.appId;if(!n)throw g.create("no app id");return n}function zo(t){var e;let n=(e=t.options)===null||e===void 0?void 0:e.projectId;if(!n)throw g.create("no project id");return n}function Wo(t){var e;let n=(e=t.options)===null||e===void 0?void 0:e.apiKey;if(!n)throw g.create("no api key");return n}var qo="0.0.1",y={loggingEnabled:!0},Go="FIREBASE_INSTALLATIONS_AUTH";function Ko(t,e){let n=Jo();return n?(Dn(n),Promise.resolve()):Qo(t,e).then(Dn).then(r=>Xo(r),()=>{})}function Jo(){let t=m.getInstance().localStorage;if(!t)return;let e=t.getItem(Wn);if(!e||!Zo(e))return;let n=t.getItem(zn);if(n)try{return JSON.parse(n)}catch{return}}function Xo(t){let e=m.getInstance().localStorage;!t||!e||(e.setItem(zn,JSON.stringify(t)),e.setItem(Wn,String(Date.now()+v.getInstance().configTimeToLive*60*60*1e3)))}var Yo="Could not fetch config, will use default configs";function Qo(t,e){return Po(t.installations).then(n=>{let r=zo(t.app),i=Wo(t.app),o=`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${i}`,s=new Request(o,{method:"POST",headers:{Authorization:`${Go} ${n}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:n,app_id:Jn(t.app),app_version:Bn,sdk_version:qo})});return fetch(s).then(a=>{if(a.ok)return a.json();throw g.create("RC response not ok")})}).catch(()=>{M.info(Yo)})}function Dn(t){if(!t)return t;let e=v.getInstance(),n=t.entries||{};return n.fpr_enabled!==void 0?e.loggingEnabled=String(n.fpr_enabled)==="true":e.loggingEnabled=y.loggingEnabled,n.fpr_log_source?e.logSource=Number(n.fpr_log_source):y.logSource&&(e.logSource=y.logSource),n.fpr_log_endpoint_url?e.logEndPointUrl=n.fpr_log_endpoint_url:y.logEndPointUrl&&(e.logEndPointUrl=y.logEndPointUrl),n.fpr_log_transport_key?e.transportKey=n.fpr_log_transport_key:y.transportKey&&(e.transportKey=y.transportKey),n.fpr_vc_network_request_sampling_rate!==void 0?e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):y.networkRequestsSamplingRate!==void 0&&(e.networkRequestsSamplingRate=y.networkRequestsSamplingRate),n.fpr_vc_trace_sampling_rate!==void 0?e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):y.tracesSamplingRate!==void 0&&(e.tracesSamplingRate=y.tracesSamplingRate),e.logTraceAfterSampling=On(e.tracesSamplingRate),e.logNetworkAfterSampling=On(e.networkRequestsSamplingRate),t}function Zo(t){return Number(t)>Date.now()}function On(t){return Math.random()<=t}var ht=1,st;function Xn(t){return ht=2,st=st||ts(t),st}function es(){return ht===3}function ts(t){return ns().then(()=>ko(t.installations)).then(e=>Ko(t,e)).then(()=>Nn(),()=>Nn())}function ns(){let t=m.getInstance().document;return new Promise(e=>{if(t&&t.readyState!=="complete"){let n=()=>{t.readyState==="complete"&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}function Nn(){ht=3}var Yn=10*1e3,rs=5.5*1e3,is=1e3,Qn=3,ve=Qn,x=[],Rn=!1;function os(){Rn||(pt(rs),Rn=!0)}function pt(t){setTimeout(()=>{ve<=0||(x.length>0&&Zn(),pt(Yn))},t)}function Zn(){let t=x.splice(0,is),e=t.map(r=>({source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)})),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:v.getInstance().logSource,log_event:e};ss(n).then(()=>{ve=Qn}).catch(()=>{x=[...t,...x],ve--,M.info(`Tries left: ${ve}.`),pt(Yn)})}function ss(t){let e=v.getInstance().getFlTransportFullUrl(),n=JSON.stringify(t);return navigator.sendBeacon&&navigator.sendBeacon(e,n)?Promise.resolve():fetch(e,{method:"POST",body:n,keepalive:!0}).then()}function as(t){if(!t.eventTime||!t.message)throw g.create("invalid cc log");x=[...x,t]}function cs(t){return(...e)=>{let n=t(...e);as({message:n,eventTime:Date.now()})}}function us(){for(;x.length>0;)Zn()}var Q;function er(t,e){Q||(Q={send:cs(ds),flush:us}),Q.send(t,e)}function ge(t){let e=v.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||m.getInstance().requiredApisAvailable()&&(es()?at(t):Xn(t.performanceController).then(()=>at(t),()=>at(t)))}function ls(){Q&&Q.flush()}function at(t){if(!dt())return;let e=v.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||er(t,1)}function fs(t){let e=v.getInstance();if(!e.instrumentationEnabled)return;let n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n===r||n===i||!e.loggingEnabled||!e.logNetworkAfterSampling||er(t,0)}function ds(t,e){return e===0?hs(t):ps(t)}function hs(t){let e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:tr(t.performanceController.app),network_request_metric:e};return JSON.stringify(n)}function ps(t){let e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};Object.keys(t.counters).length!==0&&(e.counters=t.counters);let n=t.getAttributes();Object.keys(n).length!==0&&(e.custom_attributes=n);let r={application_info:tr(t.performanceController.app),trace_metric:e};return JSON.stringify(r)}function tr(t){return{google_app_id:Jn(t),app_instance_id:dt(),web_app_info:{sdk_version:Bn,page_url:m.getInstance().getUrl(),service_worker_status:Uo(),visibility_state:$o(),effective_connection_type:jo()},application_process_state:0}}function Mn(t,e){let n=e;if(!n||n.responseStart===void 0)return;let r=m.getInstance().getTimeOrigin(),i=Math.floor((n.startTime+r)*1e3),o=n.responseStart?Math.floor((n.responseStart-n.startTime)*1e3):void 0,s=Math.floor((n.responseEnd-n.startTime)*1e3),a=n.name&&n.name.split("?")[0],c={performanceController:t,url:a,responsePayloadBytes:n.transferSize,startTimeUs:i,timeToResponseInitiatedUs:o,timeToResponseCompletedUs:s};fs(c)}var ms=100,gs="_",bs=[Fn,Un,$n,jn,Hn,Vn];function vs(t,e){return t.length===0||t.length>ms?!1:e&&e.startsWith(xn)&&bs.indexOf(t)>-1||!t.startsWith(gs)}function Es(t){let e=Math.floor(t);return e<t&&M.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}var Z=class t{constructor(e,n,r=!1,i){this.performanceController=e,this.name=n,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=m.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=`${wo}-${this.randomId}-${this.name}`,this.traceStopMark=`${Ao}-${this.randomId}-${this.name}`,this.traceMeasure=i||`${lt}-${this.randomId}-${this.name}`,i&&this.calculateTraceMetrics())}start(){if(this.state!==1)throw g.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(this.state!==2)throw g.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),ge(this)}record(e,n,r){if(e<=0)throw g.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw g.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(e*1e3),r&&r.attributes&&(this.customAttributes=Object.assign({},r.attributes)),r&&r.metrics)for(let i of Object.keys(r.metrics))isNaN(Number(r.metrics[i]))||(this.counters[i]=Math.floor(Number(r.metrics[i])));ge(this)}incrementMetric(e,n=1){this.counters[e]===void 0?this.putMetric(e,n):this.putMetric(e,this.counters[e]+n)}putMetric(e,n){if(vs(e,this.name))this.counters[e]=Es(n??0);else throw g.create("invalid custom metric name",{customMetricName:e})}getMetric(e){return this.counters[e]||0}putAttribute(e,n){let r=Vo(e),i=Ho(n);if(r&&i){this.customAttributes[e]=n;return}if(!r)throw g.create("invalid attribute name",{attributeName:e});if(!i)throw g.create("invalid attribute value",{attributeValue:n})}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){this.customAttributes[e]!==void 0&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){let e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))}static createOobTrace(e,n,r,i,o){let s=m.getInstance().getUrl();if(!s)return;let a=new t(e,xn+s,!0),c=Math.floor(m.getInstance().getTimeOrigin()*1e3);a.setStartTime(c),n&&n[0]&&(a.setDuration(Math.floor(n[0].duration*1e3)),a.putMetric("domInteractive",Math.floor(n[0].domInteractive*1e3)),a.putMetric("domContentLoadedEventEnd",Math.floor(n[0].domContentLoadedEventEnd*1e3)),a.putMetric("loadEventEnd",Math.floor(n[0].loadEventEnd*1e3)));let u="first-paint",f="first-contentful-paint";if(r){let l=r.find(b=>b.name===u);l&&l.startTime&&a.putMetric(Fn,Math.floor(l.startTime*1e3));let p=r.find(b=>b.name===f);p&&p.startTime&&a.putMetric(Un,Math.floor(p.startTime*1e3)),o&&a.putMetric($n,Math.floor(o*1e3))}this.addWebVitalMetric(a,jn,Co,i.lcp),this.addWebVitalMetric(a,Hn,Oo,i.cls),this.addWebVitalMetric(a,Vn,Do,i.inp),ge(a),ls()}static addWebVitalMetric(e,n,r,i){i&&(e.putMetric(n,Math.floor(i.value*1e3)),i.elementAttribution&&e.putAttribute(r,i.elementAttribution))}static createUserTimingTrace(e,n){let r=new t(e,n,!1,n);ge(r)}};var Ee={},kn=!1,nr;function Pn(t){dt()&&(setTimeout(()=>Ts(t),0),setTimeout(()=>_s(t),0),setTimeout(()=>ys(t),0))}function _s(t){let e=m.getInstance(),n=e.getEntriesByType("resource");for(let r of n)Mn(t,r);e.setupObserver("resource",r=>Mn(t,r))}function Ts(t){let e=m.getInstance();"onpagehide"in window?e.document.addEventListener("pagehide",()=>ct(t)):e.document.addEventListener("unload",()=>ct(t)),e.document.addEventListener("visibilitychange",()=>{e.document.visibilityState==="hidden"&&ct(t)}),e.onFirstInputDelay&&e.onFirstInputDelay(n=>{nr=n}),e.onLCP(n=>{var r;Ee.lcp={value:n.value,elementAttribution:(r=n.attribution)===null||r===void 0?void 0:r.element}}),e.onCLS(n=>{var r;Ee.cls={value:n.value,elementAttribution:(r=n.attribution)===null||r===void 0?void 0:r.largestShiftTarget}}),e.onINP(n=>{var r;Ee.inp={value:n.value,elementAttribution:(r=n.attribution)===null||r===void 0?void 0:r.interactionTarget}})}function ys(t){let e=m.getInstance(),n=e.getEntriesByType("measure");for(let r of n)Ln(t,r);e.setupObserver("measure",r=>Ln(t,r))}function Ln(t,e){let n=e.name;n.substring(0,lt.length)!==lt&&Z.createUserTimingTrace(t,n)}function ct(t){if(!kn){kn=!0;let e=m.getInstance(),n=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");setTimeout(()=>{Z.createOobTrace(t,n,r,Ee,nr)},0)}}var ft=class{constructor(e,n){this.app=e,this.installations=n,this.initialized=!1}_init(e){this.initialized||(e?.dataCollectionEnabled!==void 0&&(this.dataCollectionEnabled=e.dataCollectionEnabled),e?.instrumentationEnabled!==void 0&&(this.instrumentationEnabled=e.instrumentationEnabled),m.getInstance().requiredApisAvailable()?ie().then(n=>{n&&(os(),Xn(this).then(()=>Pn(this),()=>Pn(this)),this.initialized=!0)}).catch(n=>{M.info(`Environment doesn't support IndexedDB: ${n}`)}):M.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){v.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return v.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){v.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return v.getInstance().dataCollectionEnabled}},Is="[DEFAULT]";function ka(t=Xe()){return t=oe(t),q(t,"performance").getImmediate()}function Pa(t,e){t=oe(t);let n=q(t,"performance");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if($(o,e??{}))return i;throw g.create("already initialized")}return n.initialize({options:e})}function La(t,e){return t=oe(t),new Z(t,e)}var Ss=(t,{options:e})=>{let n=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();if(n.name!==Is)throw g.create("FB not default");if(typeof window>"u")throw g.create("no window");Mo(window);let i=new ft(n,r);return i._init(e),i};function ws(){R(new E("performance",Ss,"PUBLIC")),w(An,ut),w(An,ut,"esm2017")}ws();export{vt as a,Et as b,As as c,Cs as d,d as e,It as f,St as g,dr as h,gr as i,Rs as j,Ms as k,te as l,ks as m,wt as n,Ps as o,Ls as p,Bs as q,xs as r,Fs as s,Us as t,re as u,ie as v,At as w,I as x,S as y,$s as z,$ as A,js as B,Vs as C,Hs as D,zs as E,Ws as F,oe as G,qs as H,Gs as I,E as J,h as K,j as L,de as M,ra as N,R as O,q as P,ma as Q,ga as R,Ni as S,Xe as T,ba as U,w as V,ka as W,Pa as X,La as Y};
